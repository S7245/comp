# 需求文档

## C端需求文档

### 文档结构

```
1、 产品项目名称
2、 变更记录
3、 产品概述及背景描述
	3.1、背景介绍
4、 产品架构、信息图
5、 产品业务流程图
6、 原型设计
7、 功能模块说明
8、 其他事项说明
```

### 模块说明

**页面描述**

针对每个页面，说明整个页面的功能逻辑、以及页面上每条数据（表单、文本、图片、链接等）的取值逻辑、展示&刷新规则、交互规则、异常的数据处理。一般包括以下几个部分：

1. 页面简述： \
描述这个页面的功能模块和用户使用场景。

2. 前置条件：\
是指在什么情况下能够跳转到该页面。\
比如这个页面有多个用户角色，新用户和老用户展示的模块不同，则需要说明用户角色和对应的页面，或者进入该页面存在多个触发条件，多条进入路径等，如有这些情况都需要逐一说明。

3. 功能逻辑：\
功能逻辑是更详细的说明该页面的前后端交互逻辑，说明数据的取值逻辑（以什么规则计算或查出来）、按什么规则排序等。

4. 数据显示规则：\
以表格形式，列出页面上每个字段的来源、显示规则、数据显示长度的限制，交互逻辑等，如下图示例：

![](https://blogs7245-1256587996.cos.ap-guangzhou.myqcloud.com/img/Fswxd-VwI4rCtN_2JsudAS0XNCCO-picture.png)


5. 数据加载和刷新规则：\
`数据加载规则`会根据需求不同有不同的处理方式，比如有些内容列表页，数据量大请求时间长，可以优先取缓存展示，请求到结果再刷新，或者在加载过程中展示loading动画。 \
不同业务对`数据加载`的需求也不同，以内容平台的阅读器为例，阅读器的漫画图片一般用懒加载形式，若所有图片一起加载，在网络慢的情况下，图片加载速度不一样，会导致用户看到的漫画内容缺失。\
此外为了缓解用户等待期间的焦虑，请求到数据就会进入阅读器页，图片渲染期间展示loading动画，渲染完则一张一张显示图片内容，若定义图片渲染完才进入阅读器页面，用户的心理等待环节会相当长，考虑到地铁看漫画也是用户的主要使用场景，因此在数据加载环节会有更多要求。\
`刷新规则`一般包括页面或页面的数据刷新，需要详细说明刷新的触发条件，比如下拉刷新，切换tab刷新，登录退出登录刷新等。\
有些功能会涉及到接口刷新，比如排行榜功能，需要说明榜单计算和排名数据更新的周期，这类刷新和前端是刷新是不一样的。

6. 交互规则：\
页面的功能如果涉及到划动、弹窗的交互时，需要说明交互逻辑。

7. 异常情况：\
异常情况是指在非正常情况下，页面的数据处理方式或相应功能提示，我们需要做的是尽量遍历有哪些异常，可以从下面几个方向思考：

![](https://blogs7245-1256587996.cos.ap-guangzhou.myqcloud.com/img/FmBXo65HbpuHneaJHrzvabCGZgqg-picture.png)

一般网络、请求异常和旧版本兼容，都适用一套全局规则，没有特殊情况的话，可以不用每次都写。但临界的异常情况会根据需求不同，有多种场景和处理方式，尤其是运营活动性质的需求，每种情况都要思考到。





## B端需求文档

**页面原型说明**

- 基于当前页面，写清楚页面`判断条件`，包括前置条件、后置条件
- 说明`交互形式(事件）`，可点击的按钮或者文字进行注明。例如点击跳入下一个页面，还是弹窗、Toast，如果是弹窗，注明提示内容有哪些。
- 涉及到`excel导入`数据，一般需要有字段校验、遍历数据，然后提示错误的数据以及错误原因。
- 特殊说明情况
- `数据排序`方式说明。例如：根据时间的倒序排列，最新数据在最上面。这些要规范清楚，不然技术就会按照自己的理解来写；

**异常机制判断**

- 突然没有网络的情况
- 接口调用超时的情况
- 收不到回调后的情况
- 是否有逆向流程情况

**组件规范**

- 文本输入框：
	- 是否允许空格
	- 字符长度限制
	- 输入前的文本框内容
	- 输入后是否有清除“×”显示
	- 是否有文本格式要求
	- 提示文本
- 金额输入框：
	- 格式校验
	- 提现门槛校验
	- 是否限次，单日/单月
	- 限额判断：单笔限额、日限额、年限额等
	- 是否调用九宫格键盘
- toast /弹窗提示：
	- 提示的位置是否居中，是否需要浮层
	- toast 提示时间
	- 提示样式

[资料](https://www.woshipm.com/pd/5702035.html)


- 列表数据：
	- 字段：字段名称、字段类型、字段描述、数据来源、字段规则等
	- 列表：呈现字段、排序规则、分页规则、状态等

- 功能操作

**方法1: 事件流程法**

::: tip 
基本事件流程：新增个人培训课程/点击“新增”，弹出【新增个人培训课程】表单弹窗。\
子事件流程：引用课程内容/点击引用，弹出【选择课程】弹窗。 \
特别要求：最多选择三门课。
:::






### 文档结构

```
1、 文档介绍
	1.1、 术语与缩写解释
```

**术语与缩写解释**

![](https://blogs7245-1256587996.cos.ap-guangzhou.myqcloud.com/img/4f00f2d5feeb6703c111fc0e6c19c834-picture.jpeg)

**角色和权限**


**功能模块需求说明**

- 查询条件

![](https://blogs7245-1256587996.cos.ap-guangzhou.myqcloud.com/img/1dbd87f21272d687df30def0570449e2-picture.jpeg)

![](https://blogs7245-1256587996.cos.ap-guangzhou.myqcloud.com/img/4fce757af96d76c127f069f82202540a-picture.jpeg)


- 列表字段

![](https://blogs7245-1256587996.cos.ap-guangzhou.myqcloud.com/img/WX20230303-101946.png)

![](https://blogs7245-1256587996.cos.ap-guangzhou.myqcloud.com/img/WX20230303-110930.png)

- 排序

数据排序方式说明。例如：根据时间的倒序排列，最新数据在最上面。这些要规范清楚，不然技术就会按照自己的理解来写

- 异常情况处理

这里列举一下异常情况：突然没有网络的情况、接口调用超时的情况、收不到回调之后的情况、是否有逆向流程情况、误操作的情况、数据丢失情况等。

|异常类型|异常情况|处理方式|
|--|--|--|
||突然没有网络||
||接口调用超时||
||收不到回调||
||是否有逆向流程||
||误操作||
||数据丢||


